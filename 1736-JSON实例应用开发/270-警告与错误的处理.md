---
show: step
version: 1.0


---

## 课程介绍

本课程将介绍在 Java 开发环境下如何处理 SequoiaDB 数据库 JSON 实例发生的异常。

#### JSON 开发简介

SequoiaDB 巨杉数据库为应用提供通过 SDK 驱动进行数据库操作和集群操作的接口。

#### 实验流程简述

- 用户通过 IDEA 编辑器编写 Java 源码
- 实验相关核心代码，可从文档中的代码示例粘贴到项目指定文件的 TODO 标记处
- 通过编译、运行 Java 代码，操作 SequoiaDB 数据库 JSON 实例

![](https://doc.shiyanlou.com/courses/1736/1207281/7b1731fc121e3b460dcd9841eb0218a6-0)

#### 实验环境

课程使用的实验环境为 Ubuntu Linux 16.04 64 位版本。SequoiaDB 数据库引擎为 3.4 版本。IDEA 编辑器为 2019.3.4 版本。JDK 为 1.8 版本。

## 打开项目

#### 打开 IDEA

打开 IDEA 代码开发工具。

![](https://doc.shiyanlou.com/courses/1736/1207281/06650396616c742995bb63fcf933fac5-0)

#### 打开项目

打开指定项目，在该项目中完成所有实验步骤。

![](https://doc.shiyanlou.com/courses/1736/1207281/9f17386c8098e8f4e46634f208fcd36b-0)

#### 打开 Package

打开指定的 Package，在该 Package 中完成后续课程。

![](https://doc.shiyanlou.com/courses/1736/1207281/23387347b1e662d604c926490542b1e9-0)

## 异常处理

#### 概述

演示如何获取异常错误码和详细信息。

#### 操作步骤

打开指定的 Java 源文件。

![](https://doc.shiyanlou.com/courses/1736/1207281/2f8274a318dd388278c89b720e4016ce-0)

复制以下代码样例。

```java
try {
    db.createCollectionSpace("company");
    // 重复创建操作
    db.createCollectionSpace("company");
} catch (BaseException e) {
    //  判定错误码为-33集合空间已经存在
    if (e.getErrorCode() == -33) {
        System.out.println("The error is :" + e.getMessage());
    } else {
        throw e;
    }
} finally {
    db.close();
}
```

将代码样例粘贴到第 22 行的 TODO ~ TODO END 位置区间内。

![// TODO 贴图](https://doc.shiyanlou.com/courses/1736/1207281/b217d841a82b46e91ab4245e55427ed6-0)

右键点击 ExceptionMainTest 类，创建/编辑主类运行环境。

![](https://doc.shiyanlou.com/courses/1736/1207281/0515f0ef3e5c74995d3296a3e54ee3bc-0)

配置 Configuration 页中的 Program arguments 选项，写入指定的参数，点击”OK“。

![// TODO 贴图](https://doc.shiyanlou.com/courses/1736/1207281/0610a2dac0f4090ec3828ba66346c7bb-0) 

右键点击 ExceptionMainTest 类，运行主程序。

![](https://doc.shiyanlou.com/courses/1736/1207281/2480195030529cebf508c0aa77be9abd-0)

在 IDEA 输出窗口查看运行效果。

![// TODO 贴图](https://doc.shiyanlou.com/courses/1736/1207281/493ac1ef20e091e52a1275300a73e754-0)

双击放大控制台输出窗口，查看详细输出信息。

![](https://doc.shiyanlou.com/courses/1736/1207281/c79ec0b225cd98e945ef48c372ea4c34-0)

通过输出信息，可以看到成功获捕获了指定的异常信息。

## 总结

本课程介绍了在 Java 开发环境下如何处理 SequoiaDB 数据库 JSON 实例发生的异常。
